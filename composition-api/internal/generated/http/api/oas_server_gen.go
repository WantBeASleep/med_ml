// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// DownloadUziIDImageIDGet implements GET /download/{uzi_id}/{image_id} operation.
	//
	// Получить кадр узи.
	//
	// GET /download/{uzi_id}/{image_id}
	DownloadUziIDImageIDGet(ctx context.Context, params DownloadUziIDImageIDGetParams) (DownloadUziIDImageIDGetRes, error)
	// LoginPost implements POST /login operation.
	//
	// Авторизация.
	//
	// POST /login
	LoginPost(ctx context.Context, req *LoginPostReq) (LoginPostRes, error)
	// MedCardDoctorIDPatientIDGet implements GET /med/card/{doctor_id}/{patient_id} operation.
	//
	// Получить карту пациента.
	//
	// GET /med/card/{doctor_id}/{patient_id}
	MedCardDoctorIDPatientIDGet(ctx context.Context, params MedCardDoctorIDPatientIDGetParams) (MedCardDoctorIDPatientIDGetRes, error)
	// MedCardDoctorIDPatientIDPatch implements PATCH /med/card/{doctor_id}/{patient_id} operation.
	//
	// Обновить карту пациента.
	//
	// PATCH /med/card/{doctor_id}/{patient_id}
	MedCardDoctorIDPatientIDPatch(ctx context.Context, req *MedCardDoctorIDPatientIDPatchReq, params MedCardDoctorIDPatientIDPatchParams) (MedCardDoctorIDPatientIDPatchRes, error)
	// MedCardPost implements POST /med/card operation.
	//
	// Создать карту пациента.
	//
	// POST /med/card
	MedCardPost(ctx context.Context, req *Card) (MedCardPostRes, error)
	// MedDoctorIDGet implements GET /med/doctor/{id} operation.
	//
	// Получить врача.
	//
	// GET /med/doctor/{id}
	MedDoctorIDGet(ctx context.Context, params MedDoctorIDGetParams) (MedDoctorIDGetRes, error)
	// MedDoctorIDPatientsGet implements GET /med/doctor/{id}/patients operation.
	//
	// Получить пациентов врача.
	//
	// GET /med/doctor/{id}/patients
	MedDoctorIDPatientsGet(ctx context.Context, params MedDoctorIDPatientsGetParams) (MedDoctorIDPatientsGetRes, error)
	// MedPatientIDGet implements GET /med/patient/{id} operation.
	//
	// Получить пациента.
	//
	// GET /med/patient/{id}
	MedPatientIDGet(ctx context.Context, params MedPatientIDGetParams) (MedPatientIDGetRes, error)
	// MedPatientIDPatch implements PATCH /med/patient/{id} operation.
	//
	// Обновить пациента.
	//
	// PATCH /med/patient/{id}
	MedPatientIDPatch(ctx context.Context, req *MedPatientIDPatchReq, params MedPatientIDPatchParams) (MedPatientIDPatchRes, error)
	// MedPatientPost implements POST /med/patient operation.
	//
	// Зарегистрировать пациента.
	//
	// POST /med/patient
	MedPatientPost(ctx context.Context, req *MedPatientPostReq) (MedPatientPostRes, error)
	// RefreshPost implements POST /refresh operation.
	//
	// Обновить access token.
	//
	// POST /refresh
	RefreshPost(ctx context.Context, req *RefreshPostReq) (RefreshPostRes, error)
	// RegDoctorPost implements POST /reg/doctor operation.
	//
	// Зарегистрировать врача (как пользователя).
	//
	// POST /reg/doctor
	RegDoctorPost(ctx context.Context, req *RegDoctorPostReq) (RegDoctorPostRes, error)
	// RegPatientPost implements POST /reg/patient operation.
	//
	// Зарегистрировать пациента (как пользователя).
	// **Сделано под мобилки api**. Врачам регистрировать
	// пациентов через /med/patient.
	//
	// POST /reg/patient
	RegPatientPost(ctx context.Context, req *RegPatientPostReq) (RegPatientPostRes, error)
	// UziDevicePost implements POST /uzi/device operation.
	//
	// Добавить uzi аппарат.
	//
	// POST /uzi/device
	UziDevicePost(ctx context.Context, req *UziDevicePostReq) (UziDevicePostRes, error)
	// UziDevicesGet implements GET /uzi/devices operation.
	//
	// Получит список uzi апппапапратов.
	//
	// GET /uzi/devices
	UziDevicesGet(ctx context.Context) (UziDevicesGetRes, error)
	// UziIDDelete implements DELETE /uzi/{id} operation.
	//
	// Удалить узи.
	//
	// DELETE /uzi/{id}
	UziIDDelete(ctx context.Context, params UziIDDeleteParams) (UziIDDeleteRes, error)
	// UziIDEchographicsGet implements GET /uzi/{id}/echographics operation.
	//
	// Получить эхографику uzi.
	//
	// GET /uzi/{id}/echographics
	UziIDEchographicsGet(ctx context.Context, params UziIDEchographicsGetParams) (UziIDEchographicsGetRes, error)
	// UziIDEchographicsPatch implements PATCH /uzi/{id}/echographics operation.
	//
	// Обновить эхографику.
	//
	// PATCH /uzi/{id}/echographics
	UziIDEchographicsPatch(ctx context.Context, req *Echographics, params UziIDEchographicsPatchParams) (UziIDEchographicsPatchRes, error)
	// UziIDGet implements GET /uzi/{id} operation.
	//
	// Получить узи.
	//
	// GET /uzi/{id}
	UziIDGet(ctx context.Context, params UziIDGetParams) (UziIDGetRes, error)
	// UziIDImagesGet implements GET /uzi/{id}/images operation.
	//
	// Получает списк изображений uzi.
	//
	// GET /uzi/{id}/images
	UziIDImagesGet(ctx context.Context, params UziIDImagesGetParams) (UziIDImagesGetRes, error)
	// UziIDNodesGet implements GET /uzi/{id}/nodes operation.
	//
	// Получить все узлы узи.
	//
	// GET /uzi/{id}/nodes
	UziIDNodesGet(ctx context.Context, params UziIDNodesGetParams) (UziIDNodesGetRes, error)
	// UziIDNodesSegmentsPost implements POST /uzi/{id}/nodes-segments operation.
	//
	// Добавить узел с сегментами.
	//
	// POST /uzi/{id}/nodes-segments
	UziIDNodesSegmentsPost(ctx context.Context, req *UziIDNodesSegmentsPostReq, params UziIDNodesSegmentsPostParams) (UziIDNodesSegmentsPostRes, error)
	// UziIDPatch implements PATCH /uzi/{id} operation.
	//
	// Обновить узи.
	//
	// PATCH /uzi/{id}
	UziIDPatch(ctx context.Context, req *UziIDPatchReq, params UziIDPatchParams) (UziIDPatchRes, error)
	// UziImageIDNodesSegmentsGet implements GET /uzi/image/{id}/nodes-segments operation.
	//
	// Получит узлы и сегменты на указанном изображении.
	//
	// GET /uzi/image/{id}/nodes-segments
	UziImageIDNodesSegmentsGet(ctx context.Context, params UziImageIDNodesSegmentsGetParams) (UziImageIDNodesSegmentsGetRes, error)
	// UziNodesIDDelete implements DELETE /uzi/nodes/{id} operation.
	//
	// Сегменты узла будут также удалены.
	//
	// DELETE /uzi/nodes/{id}
	UziNodesIDDelete(ctx context.Context, params UziNodesIDDeleteParams) (UziNodesIDDeleteRes, error)
	// UziNodesIDPatch implements PATCH /uzi/nodes/{id} operation.
	//
	// Обновить узел.
	//
	// PATCH /uzi/nodes/{id}
	UziNodesIDPatch(ctx context.Context, req *UziNodesIDPatchReq, params UziNodesIDPatchParams) (UziNodesIDPatchRes, error)
	// UziNodesIDSegmentsGet implements GET /uzi/nodes/{id}/segments operation.
	//
	// Получить сегменты узла.
	//
	// GET /uzi/nodes/{id}/segments
	UziNodesIDSegmentsGet(ctx context.Context, params UziNodesIDSegmentsGetParams) (UziNodesIDSegmentsGetRes, error)
	// UziPost implements POST /uzi operation.
	//
	// Загрузить узи на обработку.
	//
	// POST /uzi
	UziPost(ctx context.Context, req *UziPostReq) (UziPostRes, error)
	// UziSegmentIDDelete implements DELETE /uzi/segment/{id} operation.
	//
	// Если у узла не останется сегментов, он будет **удален**.
	//
	// DELETE /uzi/segment/{id}
	UziSegmentIDDelete(ctx context.Context, params UziSegmentIDDeleteParams) (UziSegmentIDDeleteRes, error)
	// UziSegmentIDPatch implements PATCH /uzi/segment/{id} operation.
	//
	// Обновить сегмент.
	//
	// PATCH /uzi/segment/{id}
	UziSegmentIDPatch(ctx context.Context, req *UziSegmentIDPatchReq, params UziSegmentIDPatchParams) (UziSegmentIDPatchRes, error)
	// UziSegmentPost implements POST /uzi/segment operation.
	//
	// Добавить новый сегмент.
	//
	// POST /uzi/segment
	UziSegmentPost(ctx context.Context, req *UziSegmentPostReq) (UziSegmentPostRes, error)
	// UzisAuthorIDGet implements GET /uzis/author/{id} operation.
	//
	// Получить узи по id автора.
	//
	// GET /uzis/author/{id}
	UzisAuthorIDGet(ctx context.Context, params UzisAuthorIDGetParams) (UzisAuthorIDGetRes, error)
	// UzisExternalIDGet implements GET /uzis/external/{id} operation.
	//
	// Получить узи по внешнему id.
	//
	// GET /uzis/external/{id}
	UzisExternalIDGet(ctx context.Context, params UzisExternalIDGetParams) (UzisExternalIDGetRes, error)
	// NewError creates *ErrorStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *ErrorStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
