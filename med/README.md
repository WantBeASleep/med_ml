# Med service

Основная цель этого сервиса - хранение данных пациентов и врачей, взаимодействие между пациуентами и врачами

## Reqire
_лучше подгружать через `.env`_
| Env | Value | Описание |
|----------|----------|----------|
|GOOSE_DRIVER| postgres | `env` для миграций |
|GOOSE_DBSTRING| postgres dsn  | dsn postres sql для миграций |
|DB_DSN| postgres dsn | dsn для postgres sql |
|APP_URL| localhost:50055 | grpc url |

## Введение в предметную область

Есть следющие множества сущностей:

+ __Uzi__ _сервис uzi_
+ __Patient__ У каждого пациента есть набор снимков, отношения `1:N` с УЗИ.
+ __Doctor__ Доктора связанны с пацентами, отношение `M:N`.

Далее ставится вопрос о ведение записей/динамике болезни и прочего о пациенте, обозначим это как __Card__

Для начала рассмотрим диагнозы и записи по пациенту (не по узи снимкам)

1) __Card__ относится к __Patient__ как _1:1_, тогда 

__Card__ это общий диагноз/любая другая МЕД инфа (разграничение с __Patient__ дает нам возможность отделить мед инфу от остальной (например полис/фио/прочее))

Проблемы: Если 1 __Patient__ у 2 врачей, врачи будут менять заключения друг друга - очевидно проблемы с перекрестными изменениями.

Плюсы: Врачи видят диагнозы друг друга

2) __Card__ выражает связь между __Doctor__ и __Patient__.

// TODO: нужно добавить ручку промотра кард этого пациента от других врачей, можно в обезличенном ввиде

Мы получаем гибкость, у каждого врача есть свои диагнозы по пациенту, каждый врач может вести свои заметки для узи конкретного пациента. __выбираем этот вариант__